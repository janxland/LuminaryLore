(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[654],{8178:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var l=r(1750);let s=(0,l.Z)("X",[["line",{x1:"18",x2:"6",y1:"6",y2:"18",key:"15jfxm"}],["line",{x1:"6",x2:"18",y1:"6",y2:"18",key:"d1lma3"}]])},8697:function(e,t,r){Promise.resolve().then(r.bind(r,5549))},5549:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return H}});var l=r(9268),s=r(5032),a=r(5629),n=r(2874),i=r(6006);let c=(0,i.createContext)(void 0);function d(){let e=(0,i.useContext)(c);if(void 0===e)throw Error("useWatchContext must be used within a WatchProvider");return e}function o(e){let{children:t,value:r}=e;return(0,l.jsx)(c.Provider,{value:r,children:t})}var u=r(7646),m=r(9308),x=r(6008),h=r(3894);function f(){let{background:e}=d();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"fixed left-0 right-0 bottom-0 top-0 -z-30 bg-cover bg-no-repeat p-4",style:{backgroundImage:"url(".concat(e,")"),minHeight:"20rem"}}),(0,l.jsx)("div",{className:"fixed left-0 right-0 bottom-0 top-0 -z-10 bg-white bg-opacity-95 dark:bg-neutral-700 dark:bg-opacity-95 lg:left-230px"})]})}var g=r(6990),p=r(7463),v=r(8225),b=r(1750);let j=(0,b.Z)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),y=(0,b.Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),N=(0,b.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);function w(){let{tmdbStore:e}=(0,n.Yh)(),{pkg:t,url:r,detail:s,extension:a,setWatchData:c,tmdbId:o,mediaType:u}=d(),[m,x]=(0,i.useState)(new Map),[f,b]=(0,i.useState)(s.desc),[N,w]=(0,i.useState)(!1),[P,Z]=(0,i.useState)(),{t:_}=(0,h.$)("detail");return(0,i.useEffect)(()=>{v.mI.getTMDB(t,r).then(t=>{if(t){c(e=>({...e,tmdbId:t.tmdbId,mediaType:t.mediaType}));return}e.search(s.title).then(e=>{e&&0!==e.length&&c(t=>({...t,tmdbId:e[0].id,mediaType:e[0].media_type}))})})},[]),(0,i.useEffect)(()=>{o&&"bangumi"===a.type&&e.getDetails(o,u).then(t=>{let r=new Map;if(t){var l,s,a;r.set(_("detail.original-name"),null!==(l=t.original_name)&&void 0!==l?l:t.original_title),r.set(_("detail.language"),t.original_language),r.set(_("detail.release-date"),null!==(s=t.first_air_date)&&void 0!==s?s:t.release_date),r.set(_("detail.status"),t.status),r.set(_("detail.production-company"),t.production_companies.map(e=>e.name).join(",")),r.set(_("detail.production-country"),t.production_countries.map(e=>e.name).join(",")),r.set(_("detail.vote-average"),t.vote_average.toString()),r.set(_("detail.vote-count"),t.vote_count.toString()),"movie"===u?r.set(_("detail.runtime"),t.runtime.toString()):(r.set(_("detail.episode-run-time"),t.episode_run_time.join(",")),r.set(_("detail.number-of-episodes"),t.number_of_episodes.toString()),r.set(_("detail.number-of-seasons"),t.number_of_seasons.toString())),r.set(_("detail.spoken-language"),t.spoken_languages.map(e=>e.name).join(",")),r.set(_("detail.popularity"),t.popularity.toString()),r.set(_("detail.homepage"),null!==(a=t.homepage)&&void 0!==a?a:""),b(t.overview),Z(t.genres.map(e=>e.name))}x(r),c(r=>({...r,background:e.getImageUrl(t.backdrop_path)}))})},[o]),(0,l.jsxs)("div",{className:"mb-5 flex  md:mb-16 items-end ",children:[(0,l.jsxs)("div",{className:"w-56 flex-col items-center mb-0 md:flex md:w-1/4 lg:w-1/5",children:[(0,l.jsx)(g.default,{className:"mb-3 rounded-xl shadow-2xl ring-4 ring-gray-300 md:block w-full",src:null==s?void 0:s.cover,alt:s.title}),(0,l.jsx)("div",{className:"mt-3 flex w-full flex-col justify-between md:mt-0 xl:flex-row",children:(0,l.jsx)(k,{pkg:t,url:r,data:s,type:a.type})})]}),(0,l.jsxs)("div",{className:"w-full ml-5 md:mt-10 md:w-3/4 lg:w-4/5",children:[(0,l.jsx)("div",{className:"mb-1 text-xl md:text-3xl",children:null==s?void 0:s.title}),(0,l.jsx)("div",{className:"mb-3 text-gray-500 dark:text-white dark:text-opacity-60",children:null==P?void 0:P.map((e,t)=>(0,l.jsx)("span",{className:"mr-1",children:e},t))}),(0,l.jsxs)("div",{className:"max-h-48 overflow-hidden",children:[(0,l.jsxs)("div",{className:"mb-3 hidden md:block",children:[Array.from(m.entries()).map((e,t)=>(0,l.jsxs)("p",{className:"mb-1",children:[(0,l.jsx)("span",{className:"font-bold",children:e[0]}),e[1]]},t)),s.metadata&&Object.keys(s.metadata).map((e,t)=>(0,l.jsxs)("p",{className:"mb-1",children:[(0,l.jsxs)("span",{className:"font-bold",children:[e,": "]}),s.metadata[e]]},t)),(0,l.jsxs)("p",{className:"mb-1 flex items-center",children:[(0,l.jsx)("span",{className:"mr-2 font-bold",children:_("origin-site")}),(0,l.jsx)("a",{href:a.webSite+r,target:"_blank",rel:"noreferrer",children:(0,l.jsx)(j,{size:20})})]})]}),(0,l.jsx)("div",{className:"max-h-24 overflow-auto md:h-full",children:(0,l.jsx)("p",{children:f})})]}),(0,l.jsx)("div",{className:"flex ",children:(0,l.jsx)("button",{className:"text-gray-500 dark:text-white dark:text-opacity-60 ",onClick:()=>w(!N),children:(0,l.jsx)(y,{})})}),(0,l.jsxs)(p.Z,{show:N,onClose:()=>{w(!1)},title:s.title,children:[(0,l.jsxs)("div",{className:"mb-3",children:[m.size>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h3",{className:"mb-3 border-b pb-2 font-bold",children:_("from-tmdb")}),(0,l.jsx)("div",{className:"mb-3 grid grid-cols-2",children:Array.from(m.entries()).map((e,t)=>(0,l.jsxs)("p",{className:"mb-1",children:[(0,l.jsx)("span",{className:"font-bold",children:e[0]}),e[1].length>20&&(0,l.jsx)("br",{className:"mb-2"}),e[1]]},t))})]}),(0,l.jsx)("h3",{className:"mb-3 border-b pb-2 font-bold",children:_("from-extension")}),s.metadata&&Object.keys(s.metadata).map((e,t)=>(0,l.jsxs)("p",{className:"mb-1",children:[(0,l.jsxs)("span",{className:"font-bold",children:[e,": "]}),s.metadata[e]]},t)),(0,l.jsxs)("p",{className:"mb-1 flex items-center",children:[(0,l.jsx)("span",{className:"mr-2 font-bold",children:_("origin-site")}),(0,l.jsx)("a",{href:a.webSite+r,target:"_blank",rel:"noreferrer",children:(0,l.jsx)(j,{size:20})})]})]}),(0,l.jsx)("div",{className:"max-h-52 overflow-auto md:h-full",children:(0,l.jsx)("p",{children:f})})]})]})]})}function k(e){let{pkg:t,url:r,type:s,data:a}=e,[n,c]=(0,i.useState)(!1),{t:d}=(0,h.$)("detail");(0,i.useEffect)(()=>{u()},[]);let o=()=>{v.c8.loveOrUnLove({package:t,url:r,title:a.title,cover:a.cover,type:s}).finally(()=>{u()})},u=()=>{v.c8.isLove(t,r).then(e=>{c(e)})};return(0,l.jsx)("button",{onClick:o,className:"w-full rounded-xl border bg-black pl-4 pr-4 pt-2 pb-2 text-lg text-white focus:ring-2 focus:ring-gray-500",children:(0,l.jsxs)("div",{className:"flex items-center justify-center",children:[(0,l.jsx)(N,{className:"mr-1",fill:n?"#fff":""}),d(n?"collected":"collect")]})})}var P=r(8654);function Z(e){let{children:t}=e;return(0,l.jsx)("div",{className:"mb-6 text-2xl md:text-3xl text-gray-500 dark:text-white dark:text-opacity-60",children:t})}function _(){let{tmdbStore:e}=(0,n.Yh)(),{tmdbId:t,mediaType:r}=d(),{t:s}=(0,h.$)(["detail","common"]),{data:a,isLoading:i}=(0,u.a)({queryKey:["credits",t,r],queryFn:()=>e.getCredits(t,r)});return t?i?(0,l.jsx)(P.Z,{className:"mb-6 h-56"}):a&&0!==a.cast.length?(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)(Z,{children:s("starring")}),(0,l.jsx)("div",{className:"flex overflow-auto pb-3 scrollbar-none",children:a.cast.map((t,r)=>(0,l.jsxs)("div",{className:"mr-3 flex-shrink-0",style:{width:"130px"},children:[e.getImageUrl(t.profile_path)?(0,l.jsx)(g.default,{className:"w-full rounded-lg",errorview:(0,l.jsx)("div",{className:"flex items-center justify-center",style:{width:"130px",height:"190px"},children:s("load-error")}),loadview:(0,l.jsx)(P.Z,{style:{width:"130px",height:"190px"}}),src:e.getImageUrl(t.profile_path)}):(0,l.jsx)("div",{className:"flex items-center justify-center",style:{width:"130px",height:"190px"},children:s("no-image")}),(0,l.jsx)("a",{href:"https://www.themoviedb.org/person/".concat(t.id),target:"_blank",rel:"noreferrer",children:(0,l.jsxs)("div",{className:"break-keep p-3 text-sm ",children:[(0,l.jsx)("div",{className:"font-bold",children:t.name}),(0,l.jsx)("div",{children:t.character})]})})]},r))})]}):null:null}var C=r(9968),S=r(5810),M=r(8119),E=r(9791);let z=(0,b.Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),F=(0,m.Pi)(()=>{let{historyStore:e,playerStore:t}=(0,n.Yh)(),{detail:r,url:s,pkg:a,extension:c}=d(),[o,u]=(0,i.useState)([]),{t:m}=(0,h.$)("detail"),[x,f]=(0,i.useState)(null),g=(0,i.useRef)(null),p=(e,l)=>{t.clearPlayList(),l.map((e,l)=>{t.pushPlay({url:e.url,chapter:e.chapter,pageUrl:s,pkg:a,title:r.title,type:c.type})}),t.togglePlay(e),t.toggleMini(!1)},v=(e,n,i)=>{let d={url:n,pageUrl:s,chapter:i,title:r.title,type:c.type,pkg:a},o=()=>{f(null)},u=window.innerWidth,x=[{text:m("menu.add-to-next-play"),action:()=>{t.addNextPlay(d)}},{text:m("menu.add-to-playlist"),action:()=>{t.pushPlay(d)}}];f((0,l.jsxs)("div",{ref:g,children:[(0,l.jsx)("div",{className:"fixed left-0 right-0 bottom-0 top-0 bg-black opacity-50 md:opacity-0",style:{zIndex:"60"},onClick:o}),(0,l.jsx)("div",{className:"fixed bottom-0 md:bottom-auto rounded-t-lg w-full md:absolute md:rounded-lg text-white bg-black md:w-48 overflow-hidden shadow-2xl",onClick:o,style:{top:u>1024?e.currentTarget.offsetTop+30:"auto",left:u>1024?e.currentTarget.offsetLeft-30:0,zIndex:"70"},children:x.map((e,t)=>(0,l.jsxs)("div",{className:"mb-1 p-3 cursor-pointer hover:bg-neutral-800",onClick:e.action,children:[e.text," "]},t))})]})),window.addEventListener("resize",()=>{o()})};return(0,i.useEffect)(()=>{r.episodes&&u(r.episodes.map((e,r)=>({title:e.title,content:(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-2 p-1",children:e.urls.map((r,s)=>{var a;return(0,l.jsxs)("div",{className:(0,E.Z)("flex justify-between items-center overflow-hidden bg-neutral-200 text-black dark:text-white dark:bg-black dark:bg-opacity-60 h-14 rounded-lg",{"ring-2 ring-gray-700 dark:ring-gray-200":(null===(a=t.currentPlay)||void 0===a?void 0:a.url)===r.url}),children:[(0,l.jsx)("span",{className:"cursor-pointer truncate w-full h-full flex items-center p-2 hover:bg-neutral-300 dark:hover:bg-neutral-800",onClick:()=>p(s,e.urls.map((t,r)=>({url:t.url,chapter:"".concat(e.title,"|").concat(t.name)}))),children:r.name}),(0,l.jsx)("div",{className:"cursor-pointer hover:opacity-60",onClick:t=>{v(t,r.url,"".concat(e.title,"|").concat(r.name))},children:(0,l.jsx)(z,{})})]},s)})})})))},[r,t.currentPlay]),(0,i.useEffect)(()=>{e.getHistory(s,a).then(e=>{e&&(0,M.yv)(m("last-watch",{chapter:e.chapter}),{persist:!1,action:t=>(0,l.jsx)(C.Z,{onClick:()=>{var l;let s=null==e?void 0:e.chapter.split("|");if(!s||2!==s.length){(0,M.yv)(m("detail-record-error"),{variant:"error"});return}null===(l=r.episodes)||void 0===l||l.map((e,t)=>{e.urls.map((t,r)=>{e.title===s[0]&&t.name===s[1]&&p(r,e.urls.map((t,r)=>({url:t.url,chapter:"".concat(e.title,"|").concat(t.name)})))})}),(0,M.sy)(t)},children:m("continue-watch")})})})},[]),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)(Z,{children:m("episodes")}),(0,l.jsx)("div",{children:(0,l.jsx)(S.Z,{tabs:o})}),x]})});var q=r(5470),I=r(551),T=r(5984);function O(){let{extension:e}=d(),{t}=(0,h.$)("detail"),[r,s]=(0,i.useState)(!1),[a,n]=(0,i.useState)(""),[c,o]=(0,i.useState)(""),u=e=>{e.preventDefault(),o(a)};return(0,l.jsxs)("div",{className:"mb-3 flex items-center justify-center",children:[(0,l.jsxs)("div",{className:"text-center text-black text-opacity-40 dark:text-white dark:text-opacity-40",children:[(0,l.jsx)("p",{children:t("footer.origin",{ext:e.name})}),(0,l.jsxs)("p",{children:[t("footer.infomation-error")," ",(0,l.jsx)("span",{className:"cursor-pointer font-bold",onClick:()=>s(!0),children:t("footer.change")})]})]}),(0,l.jsxs)(p.Z,{show:r,onClose:()=>s(!1),title:t("changing-tmdb-metadata-targets"),children:[(0,l.jsx)("form",{className:"mb-3",onSubmit:u,children:(0,l.jsx)(q.Z,{className:"w-full",value:a,onChange:e=>n(e.target.value),placeholder:t("enter-the-current-movie-keyword")})}),(0,l.jsx)(L,{kw:c,onClose:()=>s(!1)}),(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)("p",{className:"text-center text-black text-opacity-40  dark:text-white dark:text-opacity-40",children:t("changing-tmdb-metadata-targets-tips")})})]})]})}function L(e){var t;let{kw:r,onClose:s}=e,{t:i}=(0,h.$)(["detail","common"]),{url:c,pkg:o,setWatchData:u}=d(),{settingsStore:m}=(0,n.Yh)(),{tmdbStore:x}=(0,n.Yh)(),{error:f,data:g,isLoading:p,isFetchingNextPage:b,fetchNextPage:j}=(0,T.N)({queryKey:["tmdbsearch",r],queryFn:e=>{let{pageParam:t}=e;return x.search(r,t)},getNextPageParam:(e,t)=>{if(e&&0!==e.length)return t.length+1}}),y=e=>{v.mI.saveTMDB({tmdbId:e.id,mediaType:e.media_type,url:c,pkg:o}),u(t=>({...t,tmdbId:e.id,mediaType:e.media_type})),s()};return m.getSetting("TMDBKey")?f?(0,l.jsx)("div",{className:"mb-3",children:(0,l.jsx)(a.Z,{error:f})}):(p&&I.Z,(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-3 lg:grid-cols-4",children:(null==g?void 0:g.pages)&&g.pages.map(e=>e.map((e,r)=>(0,l.jsxs)("div",{className:"cursor-pointer hover:opacity-80",onClick:()=>y(e),children:[(0,l.jsx)("img",{className:"w-full rounded-md object-cover",src:x.getImageUrl(e.poster_path)}),(0,l.jsx)("div",{className:"my-2 text-center",children:(0,l.jsx)("p",{children:null!==(t=e.name)&&void 0!==t?t:e.title})})]},r)))}),r&&(null==g?void 0:g.pages)&&(0,l.jsx)("div",{className:"mb-3 text-center",children:(0,l.jsx)(C.Z,{onClick:()=>j(),children:i(b?"loading":"more")})})]})):(0,l.jsx)("div",{className:"mb-3",children:(0,l.jsx)(a.Z,{error:i("no-tmdb-key")})})}var A=r(3109);function R(e){let{cover:t}=e;return(0,l.jsx)(A.default,{children:(0,l.jsx)(s.Z,{children:(0,l.jsxs)("div",{className:"min-h-screen",children:[(0,l.jsxs)("div",{className:"mb-5 flex  md:mb-16 items-end",children:[(0,l.jsxs)("div",{className:"w-56 flex-col items-center md:mb-0 md:flex md:w-1/4 lg:w-1/5 ",children:[t?(0,l.jsx)(g.default,{className:"mb-3 rounded-xl shadow-2xl ring-4 ring-gray-300 md:block md:w-full ",src:t,alt:"cover"}):(0,l.jsx)(P.Z,{className:"mb-3 h-48 lg:h-64 xl:h-80 w-full md:block md:w-full"}),(0,l.jsx)("div",{className:"mt-3 flex w-full flex-col justify-between md:mt-0 xl:flex-row",children:(0,l.jsx)(P.Z,{className:"h-11 w-full"})})]}),(0,l.jsxs)("div",{className:"w-full ml-5 md:mt-10 md:w-3/4 lg:w-4/5 ",children:[(0,l.jsx)("div",{className:"mb-4 h-12 md:w-60 animate-pulse rounded-xl bg-slate-200 dark:bg-zinc-700"}),(0,l.jsxs)("div",{className:"max-h-48 overflow-hidden",children:[(0,l.jsx)(P.Z,{className:"mb-2 h-8 w-2/3 md:w-52"}),(0,l.jsx)(P.Z,{className:"hidden md:block mb-2 h-8 w-80"}),(0,l.jsx)(P.Z,{className:"mb-2 h-8 w-1/2 md:w-72"}),(0,l.jsx)(P.Z,{className:"hidden md:block mb-2 h-8 w-80"}),(0,l.jsx)(P.Z,{className:"mb-2 h-8 w-5/6 md:w-60"})]})]})]}),(0,l.jsx)(P.Z,{className:"mb-6 h-40"}),(0,l.jsx)(P.Z,{className:"mb-6 h-56"})]})})})}var $=r(7356);let K=(0,m.Pi)(()=>{let e=(0,x.useSearchParams)(),t=(0,x.useRouter)(),{extensionStore:r}=(0,n.Yh)(),c=null==e?void 0:e.get("pkg"),d=null==e?void 0:e.get("url"),m=null==e?void 0:e.get("cover"),g=r.getExtension(c),{t:p}=(0,h.$)("detail"),[v,b]=(0,i.useState)(),{isLoading:j,error:y,isError:N,data:k}=(0,u.a)({queryKey:["detail",c,d],queryFn:()=>null==g?void 0:g.detail(d)});return((0,i.useEffect)(()=>{k&&(b({detail:k,pkg:c,url:d,extension:g,setWatchData:b}),(0,$.Z)(k.title))},[k]),c&&d)?g?N?(0,l.jsx)(a.Z,{error:y}):j||!v?(0,l.jsx)(R,{cover:m}):k?(0,l.jsxs)(o,{value:v,children:[(0,l.jsx)(f,{}),(0,l.jsxs)(s.Z,{children:[(0,l.jsxs)("div",{className:"min-h-screen",children:[(0,l.jsx)(w,{}),(0,l.jsx)(F,{}),(0,l.jsx)(_,{})]}),(0,l.jsx)(O,{})]})]}):(0,l.jsx)(a.Z,{error:p("not-found-data")}):(0,l.jsx)(a.Z,{error:p("extension-lost",{pkg:c})}):(t.push("/404"),(0,l.jsx)(l.Fragment,{}))});var H=K},5032:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var l=r(9268),s=r(9791);function a(e){return(0,l.jsx)("div",{...e,className:(0,s.Z)("pl-5 pt-5 pr-5 md:pl-10 md:pr-10 md:pt-10",e.className),children:e.children})}},5629:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var l=r(9268),s=r(3894),a=r(6006);function n(e){let{error:t}=e,[r,n]=(0,a.useState)(""),{t:i}=(0,s.$)();return((0,a.useEffect)(()=>{if(t){if("object"==typeof t)return n(t.toString());n(t)}},[t]),r)?(0,l.jsxs)("div",{className:"my-28 text-center",children:[(0,l.jsx)("p",{className:"text-2xl font-bold",children:i("an-error-has-occurred")}),(0,l.jsx)("p",{className:"text-sm",children:r})]}):null}},3109:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return a}});var l=r(9268),s=r(3039);function a(e){return(0,l.jsx)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:0},children:e.children})}},7463:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var l=r(9268),s=r(8178);function a(e){return e.show?(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"fixed left-0 right-0 top-0 bottom-0 z-50 bg-black opacity-75",onClick:e.onClose}),(0,l.jsxs)("div",{className:"fixed top-1/2 left-0 right-0 z-50 max-h-screen -translate-y-1/2 transform overflow-auto md:left-1/2 md:-translate-x-1/2",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between rounded-t-lg border-b bg-white p-4 dark:border-white dark:bg-zinc-700",children:[(0,l.jsx)("div",{className:"text-lg font-bold",children:e.title}),(0,l.jsx)("div",{className:"cursor-pointer text-gray-400 hover:text-gray-500",onClick:e.onClose,children:(0,l.jsx)(s.Z,{})})]}),(0,l.jsx)("div",{className:"rounded-b-lg bg-white p-4 dark:bg-zinc-800",children:e.children})]})]}):null}},8654:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var l=r(9268),s=r(9791);function a(e){return(0,l.jsx)("div",{...e,className:(0,s.Z)("h-full w-full animate-pulse rounded-xl bg-slate-200 dark:bg-zinc-700",e.className)})}},5810:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var l=r(9268),s=r(9791),a=r(6006);function n(e){var t;let[r,n]=(0,a.useState)(0),i=t=>{var r;n(t),null===(r=e.onChange)||void 0===r||r.call(e,t)};(0,a.useEffect)(()=>{void 0!==e.index&&n(Number(e.index))},[e.index,e.tabs]);let c=e.tabs.map((e,t)=>(0,l.jsx)("button",{onClick:()=>i(t),className:(0,s.Z)("mr-2 break-keep rounded-full border pl-3 pr-3 pt-2 pb-2 text-sm ","".concat(r===t?"bg-black text-white dark:bg-black ":"bg-white dark:bg-zinc-700")),children:e.title},t));return(0,l.jsx)("div",{className:(0,s.Z)("overflow-x-scroll scrollbar-none"),children:e.tabs.length>0&&(0,l.jsxs)(l.Fragment,{children:[e.tabs.length>1&&(0,l.jsx)("div",{className:(0,s.Z)("flex overflow-auto scrollbar-none mb-3",e.className),children:c}),(0,l.jsx)("div",{children:null===(t=e.tabs[r])||void 0===t?void 0:t.content})]})})}},9968:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var l=r(9268),s=r(9791),a=r(1816);function n(e){return(0,l.jsx)("button",{...e,className:(0,s.W)("rounded-3xl border bg-black pl-4 pr-4 pt-2 pb-2 text-sm text-white focus:ring-2 focus:ring-gray-500",e.className),children:e.loading&&(0,l.jsx)(a.Z,{className:"animate-spin"})||e.children})}},5470:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var l=r(9268),s=r(9791);function a(e){return(0,l.jsx)("input",{...e,className:(0,s.Z)("rounded-3xl border pl-4 pr-4 pt-2 pb-2 text-sm dark:bg-black dark:text-white",e.className)})}},6990:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n}});var l=r(9268),s=r(6006),a=r(8654);function n(e){var t,r;let n=(0,s.useRef)(null),[i,c]=(0,s.useState)(!1),[d,o]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{if(n.current){if(n.current.complete){c(!0);return}n.current.onload=()=>{c(!0)},n.current.addEventListener("error",()=>{o(!0)})}return()=>{n.current&&n.current.removeEventListener("error",()=>{console.log("error")})}},[e.src]),d)?(0,l.jsx)(l.Fragment,{children:null!==(t=e.errorview)&&void 0!==t?t:(0,l.jsx)("div",{className:"h-full w-full bg-gray-200"})}):(0,l.jsxs)(l.Fragment,{children:[!i&&(null!==(r=e.loadview)&&void 0!==r?r:(0,l.jsx)(a.Z,{className:"h-full w-full"})),(0,l.jsx)("img",{hidden:!i,ref:n,...e})]})}},7356:function(e,t,r){"use strict";function l(e){document.title="".concat(e," | Miru")}r.d(t,{Z:function(){return l}})},6008:function(e,t,r){e.exports=r(167)},2026:function(e,t,r){"use strict";function l(){return{onFetch:e=>{e.fetchFn=()=>{var t,r,l,n,i,c;let d;let o=null==(t=e.fetchOptions)?void 0:null==(r=t.meta)?void 0:r.refetchPage,u=null==(l=e.fetchOptions)?void 0:null==(n=l.meta)?void 0:n.fetchMore,m=null==u?void 0:u.pageParam,x=(null==u?void 0:u.direction)==="forward",h=(null==u?void 0:u.direction)==="backward",f=(null==(i=e.state.data)?void 0:i.pages)||[],g=(null==(c=e.state.data)?void 0:c.pageParams)||[],p=g,v=!1,b=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>{var t,r;return null!=(t=e.signal)&&t.aborted?v=!0:null==(r=e.signal)||r.addEventListener("abort",()=>{v=!0}),e.signal}})},j=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),y=(e,t,r,l)=>(p=l?[t,...p]:[...p,t],l?[r,...e]:[...e,r]),N=(t,r,l,s)=>{if(v)return Promise.reject("Cancelled");if(void 0===l&&!r&&t.length)return Promise.resolve(t);let a={queryKey:e.queryKey,pageParam:l,meta:e.options.meta};b(a);let n=j(a),i=Promise.resolve(n).then(e=>y(t,l,e,s));return i};if(f.length){if(x){let t=void 0!==m,r=t?m:s(e.options,f);d=N(f,t,r)}else if(h){let t=void 0!==m,r=t?m:a(e.options,f);d=N(f,t,r,!0)}else{p=[];let t=void 0===e.options.getNextPageParam,r=!o||!f[0]||o(f[0],0,f);d=r?N([],t,g[0]):Promise.resolve(y([],g[0],f[0]));for(let r=1;r<f.length;r++)d=d.then(l=>{let a=!o||!f[r]||o(f[r],r,f);if(a){let a=t?g[r]:s(e.options,l);return N(l,t,a)}return Promise.resolve(y(l,g[r],f[r]))})}}else d=N([]);let w=d.then(e=>({pages:e,pageParams:p}));return w}}}}function s(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function a(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}function n(e,t){if(e.getNextPageParam&&Array.isArray(t)){let r=s(e,t);return null!=r&&!1!==r}}function i(e,t){if(e.getPreviousPageParam&&Array.isArray(t)){let r=a(e,t);return null!=r&&!1!==r}}r.d(t,{Gm:function(){return l},Qy:function(){return n},ZF:function(){return i}})},5984:function(e,t,r){"use strict";r.d(t,{N:function(){return c}});var l=r(7179),s=r(7958),a=r(2026);class n extends s.z{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:(0,a.Gm)()},t)}getOptimisticResult(e){return e.behavior=(0,a.Gm)(),super.getOptimisticResult(e)}fetchNextPage({pageParam:e,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"forward",pageParam:e}}})}fetchPreviousPage({pageParam:e,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"backward",pageParam:e}}})}createResult(e,t){var r,l,s,n,i,c;let{state:d}=e,o=super.createResult(e,t),{isFetching:u,isRefetching:m}=o,x=u&&(null==(r=d.fetchMeta)?void 0:null==(l=r.fetchMore)?void 0:l.direction)==="forward",h=u&&(null==(s=d.fetchMeta)?void 0:null==(n=s.fetchMore)?void 0:n.direction)==="backward";return{...o,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,a.Qy)(t,null==(i=d.data)?void 0:i.pages),hasPreviousPage:(0,a.ZF)(t,null==(c=d.data)?void 0:c.pages),isFetchingNextPage:x,isFetchingPreviousPage:h,isRefetching:m&&!x&&!h}}}var i=r(7165);function c(e,t,r){let s=(0,l._v)(e,t,r);return(0,i.r)(s,n)}}},function(e){e.O(0,[147,684,947,646,371,667,139,744],function(){return e(e.s=8697)}),_N_E=e.O()}]);